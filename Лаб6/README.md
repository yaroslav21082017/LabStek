Рефакторинг коду: усунення дублювання

Завдання 1:

Проблема: Дублювання коду в функціях calculate_total_price та calculate_total_price_with_tax.

Рішення:

1. Виділення спільного коду в функцію calculate_price: функція calculate_price тепер відповідає за обчислення загальної вартості продуктів з урахуванням знижки.
2. Використання функції calculate_price в calculate_total_price_with_tax: функція calculate_total_price_with_tax тепер викликає calculate_price для обчислення вартості без податку, а потім додає податок.

Виграш:

-Усунення дублювання коду: код для обчислення вартості з урахуванням знижки тепер знаходиться в одному місці.
-Покращення читабельності та легша підтримка коду: код став коротшим та зрозумілішим.

Завдання 2:

Проблема: Дублювання коду в методі _calculate_total_and_count.

Рішення:

1. Виділення спільного коду в окремий метод: створено метод _calculate_total_and_count, який обчислює суму та кількість елементів даних.
2. Використання методу _calculate_total_and_count в інших методах: методи calculate_total, calculate_average тепер викликають _calculate_total_and_count для отримання необхідних даних.

Виграш:

-Усунення дублювання коду: код для обчислення суми та кількості елементів даних тепер знаходиться в одному місці.
-Покращення читабельності та легша підтримка коду: код став коротшим та зрозумілішим.